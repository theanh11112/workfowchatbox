2025-11-25 08:53:11,652 - main - INFO - [main.py:44] - üöÄ Starting Company Chatbot Backend API with Authentication
2025-11-25 08:53:11,652 - main - INFO - [main.py:45] - üìä Rate limit: 30 requests/minute
2025-11-25 08:54:15,290 - api - INFO - [custom_logging.py:68] - API_REQUEST: {"timestamp": "2025-11-25T08:54:15.289993", "user_id": "unknown", "endpoint": "/api/v1/chat", "method": "POST", "status_code": 401, "processing_time": 0.0, "type": "api_request"}
2025-11-25 08:54:24,132 - api - INFO - [custom_logging.py:68] - API_REQUEST: {"timestamp": "2025-11-25T08:54:24.132290", "user_id": "unknown", "endpoint": "/api/v1/chat", "method": "POST", "status_code": 401, "processing_time": 0.001, "type": "api_request"}
2025-11-25 08:54:32,252 - main - INFO - [main.py:163] - üì® Chat request - User: user001, Message: ngh·ªâ ph√©p
2025-11-25 08:54:32,333 - chatbot - INFO - [custom_logging.py:51] - CHAT_INTERACTION: {"timestamp": "2025-11-25T08:54:32.333049", "user_id": "user001", "message": "ngh·ªâ ph√©p", "response_success": true, "response_preview": "ü§ñ **Company Chatbot Response**\n\nD·ª±a tr√™n t√†i li·ªáu c√¥ng ty, t√¥i t√¨m th·∫•y th√¥ng tin sau:\n\n**üìÑ N·ªôi quy c√¥ng ty**\n\n# N·ªòI QUY C√îNG TY ## 1. Gi·ªù l√†m vi·ªác - Th·ª© 2 - Th·ª© 6: 8:30 - 17:30 - Ngh·ªâ tr∆∞a: 12:00 - 1...", "response_time": 0.081, "total_results": 2, "type": "chat_interaction"}
2025-11-25 08:54:32,333 - main - INFO - [main.py:182] - ‚úÖ Chat response - User: user001, Success: True, Time: 0.08s
2025-11-25 08:54:32,333 - main - ERROR - [main.py:204] - üí• Unexpected error: "ChatResponse" object has no field "headers"
2025-11-25 08:54:32,333 - error - ERROR - [custom_logging.py:84] - ERROR: {"timestamp": "2025-11-25T08:54:32.333227", "user_id": "user001", "error_type": "unexpected_error", "error_message": "\"ChatResponse\" object has no field \"headers\"", "context": {"message": "ngh\u1ec9 ph\u00e9p"}, "type": "error"}
2025-11-25 08:54:32,333 - api - INFO - [custom_logging.py:68] - API_REQUEST: {"timestamp": "2025-11-25T08:54:32.333354", "user_id": "unknown", "endpoint": "/api/v1/chat", "method": "POST", "status_code": 500, "processing_time": 0.083, "type": "api_request"}
2025-11-25 08:57:42,644 - main - INFO - [main.py:48] - üõë Shutting down Company Chatbot Backend API
2025-11-25 08:57:43,061 - main - INFO - [main.py:44] - üöÄ Starting Company Chatbot Backend API with Authentication
2025-11-25 08:57:43,061 - main - INFO - [main.py:45] - üìä Rate limit: 30 requests/minute
2025-11-25 08:58:14,151 - main - INFO - [main.py:164] - üì® Chat request - User: user001, Message: ngh·ªâ ph√©p
2025-11-25 08:58:14,215 - chatbot - INFO - [custom_logging.py:51] - CHAT_INTERACTION: {"timestamp": "2025-11-25T08:58:14.215178", "user_id": "user001", "message": "ngh·ªâ ph√©p", "response_success": true, "response_preview": "ü§ñ **Company Chatbot Response**\n\nD·ª±a tr√™n t√†i li·ªáu c√¥ng ty, t√¥i t√¨m th·∫•y th√¥ng tin sau:\n\n**üìÑ N·ªôi quy c√¥ng ty**\n\n# N·ªòI QUY C√îNG TY ## 1. Gi·ªù l√†m vi·ªác - Th·ª© 2 - Th·ª© 6: 8:30 - 17:30 - Ngh·ªâ tr∆∞a: 12:00 - 1...", "response_time": 0.063, "total_results": 2, "type": "chat_interaction"}
2025-11-25 08:58:14,215 - main - INFO - [main.py:183] - ‚úÖ Chat response - User: user001, Success: True, Time: 0.06s
2025-11-25 08:58:14,215 - api - INFO - [custom_logging.py:68] - API_REQUEST: {"timestamp": "2025-11-25T08:58:14.215439", "user_id": "unknown", "endpoint": "/api/v1/chat", "method": "POST", "status_code": 200, "processing_time": 0.064, "type": "api_request"}
2025-11-25 08:58:40,946 - api - INFO - [custom_logging.py:68] - API_REQUEST: {"timestamp": "2025-11-25T08:58:40.946833", "user_id": "unknown", "endpoint": "/api/v1/rate-limit/user001", "method": "GET", "status_code": 200, "processing_time": 0.0, "type": "api_request"}
2025-11-25 08:58:58,752 - api - INFO - [custom_logging.py:68] - API_REQUEST: {"timestamp": "2025-11-25T08:58:58.752181", "user_id": "unknown", "endpoint": "/api/v1/rate-limit/user001", "method": "GET", "status_code": 200, "processing_time": 0.0, "type": "api_request"}
2025-11-25 08:59:25,844 - api - INFO - [custom_logging.py:68] - API_REQUEST: {"timestamp": "2025-11-25T08:59:25.844503", "user_id": "unknown", "endpoint": "/api/v1/rate-limit/user001", "method": "GET", "status_code": 200, "processing_time": 0.0, "type": "api_request"}
2025-11-25 08:59:54,059 - main - INFO - [main.py:164] - üì® Chat request - User: user001, Message: test rate limit 1
2025-11-25 08:59:54,068 - chatbot - INFO - [custom_logging.py:51] - CHAT_INTERACTION: {"timestamp": "2025-11-25T08:59:54.068215", "user_id": "user001", "message": "test rate limit 1", "response_success": true, "response_preview": "ü§ñ **Company Chatbot Response**\n\nD·ª±a tr√™n t√†i li·ªáu c√¥ng ty, t√¥i t√¨m th·∫•y th√¥ng tin sau:\n\n**üìÑ Ch√≠nh s√°ch ngh·ªâ ph√©p**\n\n# CH√çNH S√ÅCH NGH·ªà PH√âP ## 1. Ph√©p nƒÉm - Nh√¢n vi√™n ch√≠nh th·ª©c: 12 ng√†y ph√©p/nƒÉm - Nh√¢...", "response_time": 0.008, "total_results": 2, "type": "chat_interaction"}
2025-11-25 08:59:54,068 - main - INFO - [main.py:183] - ‚úÖ Chat response - User: user001, Success: True, Time: 0.01s
2025-11-25 08:59:54,068 - api - INFO - [custom_logging.py:68] - API_REQUEST: {"timestamp": "2025-11-25T08:59:54.068425", "user_id": "unknown", "endpoint": "/api/v1/chat", "method": "POST", "status_code": 200, "processing_time": 0.009, "type": "api_request"}
2025-11-25 08:59:54,075 - main - INFO - [main.py:164] - üì® Chat request - User: user001, Message: test rate limit 2
2025-11-25 08:59:54,083 - chatbot - INFO - [custom_logging.py:51] - CHAT_INTERACTION: {"timestamp": "2025-11-25T08:59:54.083608", "user_id": "user001", "message": "test rate limit 2", "response_success": true, "response_preview": "ü§ñ **Company Chatbot Response**\n\nD·ª±a tr√™n t√†i li·ªáu c√¥ng ty, t√¥i t√¨m th·∫•y th√¥ng tin sau:\n\n**üìÑ Ch√≠nh s√°ch ngh·ªâ ph√©p**\n\n# CH√çNH S√ÅCH NGH·ªà PH√âP ## 1. Ph√©p nƒÉm - Nh√¢n vi√™n ch√≠nh th·ª©c: 12 ng√†y ph√©p/nƒÉm - Nh√¢...", "response_time": 0.008, "total_results": 2, "type": "chat_interaction"}
2025-11-25 08:59:54,083 - main - INFO - [main.py:183] - ‚úÖ Chat response - User: user001, Success: True, Time: 0.01s
2025-11-25 08:59:54,083 - api - INFO - [custom_logging.py:68] - API_REQUEST: {"timestamp": "2025-11-25T08:59:54.083828", "user_id": "unknown", "endpoint": "/api/v1/chat", "method": "POST", "status_code": 200, "processing_time": 0.008, "type": "api_request"}
2025-11-25 08:59:54,091 - main - INFO - [main.py:164] - üì® Chat request - User: user001, Message: test rate limit 3
2025-11-25 08:59:54,097 - chatbot - INFO - [custom_logging.py:51] - CHAT_INTERACTION: {"timestamp": "2025-11-25T08:59:54.097177", "user_id": "user001", "message": "test rate limit 3", "response_success": true, "response_preview": "ü§ñ **Company Chatbot Response**\n\nD·ª±a tr√™n t√†i li·ªáu c√¥ng ty, t√¥i t√¨m th·∫•y th√¥ng tin sau:\n\n**üìÑ Ch√≠nh s√°ch ngh·ªâ ph√©p**\n\n# CH√çNH S√ÅCH NGH·ªà PH√âP ## 1. Ph√©p nƒÉm - Nh√¢n vi√™n ch√≠nh th·ª©c: 12 ng√†y ph√©p/nƒÉm - Nh√¢...", "response_time": 0.006, "total_results": 2, "type": "chat_interaction"}
2025-11-25 08:59:54,097 - main - INFO - [main.py:183] - ‚úÖ Chat response - User: user001, Success: True, Time: 0.01s
2025-11-25 08:59:54,097 - api - INFO - [custom_logging.py:68] - API_REQUEST: {"timestamp": "2025-11-25T08:59:54.097372", "user_id": "unknown", "endpoint": "/api/v1/chat", "method": "POST", "status_code": 200, "processing_time": 0.006, "type": "api_request"}
2025-11-25 08:59:54,105 - main - INFO - [main.py:164] - üì® Chat request - User: user001, Message: test rate limit 4
2025-11-25 08:59:54,111 - chatbot - INFO - [custom_logging.py:51] - CHAT_INTERACTION: {"timestamp": "2025-11-25T08:59:54.111357", "user_id": "user001", "message": "test rate limit 4", "response_success": true, "response_preview": "ü§ñ **Company Chatbot Response**\n\nD·ª±a tr√™n t√†i li·ªáu c√¥ng ty, t√¥i t√¨m th·∫•y th√¥ng tin sau:\n\n**üìÑ Ch√≠nh s√°ch ngh·ªâ ph√©p**\n\n# CH√çNH S√ÅCH NGH·ªà PH√âP ## 1. Ph√©p nƒÉm - Nh√¢n vi√™n ch√≠nh th·ª©c: 12 ng√†y ph√©p/nƒÉm - Nh√¢...", "response_time": 0.006, "total_results": 2, "type": "chat_interaction"}
2025-11-25 08:59:54,111 - main - INFO - [main.py:183] - ‚úÖ Chat response - User: user001, Success: True, Time: 0.01s
2025-11-25 08:59:54,111 - api - INFO - [custom_logging.py:68] - API_REQUEST: {"timestamp": "2025-11-25T08:59:54.111586", "user_id": "unknown", "endpoint": "/api/v1/chat", "method": "POST", "status_code": 200, "processing_time": 0.007, "type": "api_request"}
2025-11-25 08:59:54,119 - main - INFO - [main.py:164] - üì® Chat request - User: user001, Message: test rate limit 5
2025-11-25 08:59:54,125 - chatbot - INFO - [custom_logging.py:51] - CHAT_INTERACTION: {"timestamp": "2025-11-25T08:59:54.125777", "user_id": "user001", "message": "test rate limit 5", "response_success": true, "response_preview": "ü§ñ **Company Chatbot Response**\n\nD·ª±a tr√™n t√†i li·ªáu c√¥ng ty, t√¥i t√¨m th·∫•y th√¥ng tin sau:\n\n**üìÑ Ch√≠nh s√°ch ngh·ªâ ph√©p**\n\n# CH√çNH S√ÅCH NGH·ªà PH√âP ## 1. Ph√©p nƒÉm - Nh√¢n vi√™n ch√≠nh th·ª©c: 12 ng√†y ph√©p/nƒÉm - Nh√¢...", "response_time": 0.006, "total_results": 2, "type": "chat_interaction"}
2025-11-25 08:59:54,125 - main - INFO - [main.py:183] - ‚úÖ Chat response - User: user001, Success: True, Time: 0.01s
2025-11-25 08:59:54,125 - api - INFO - [custom_logging.py:68] - API_REQUEST: {"timestamp": "2025-11-25T08:59:54.125973", "user_id": "unknown", "endpoint": "/api/v1/chat", "method": "POST", "status_code": 200, "processing_time": 0.007, "type": "api_request"}
2025-11-25 09:00:11,394 - main - INFO - [main.py:164] - üì® Chat request - User: user001, Message: l∆∞∆°ng th∆∞·ªüng
2025-11-25 09:00:11,404 - chatbot - INFO - [custom_logging.py:51] - CHAT_INTERACTION: {"timestamp": "2025-11-25T09:00:11.404698", "user_id": "user001", "message": "l∆∞∆°ng th∆∞·ªüng", "response_success": true, "response_preview": "ü§ñ **Company Chatbot Response**\n\nD·ª±a tr√™n t√†i li·ªáu c√¥ng ty, t√¥i t√¨m th·∫•y th√¥ng tin sau:\n\n**üìÑ N·ªôi quy c√¥ng ty**\n\n# N·ªòI QUY C√îNG TY ## 1. Gi·ªù l√†m vi·ªác - Th·ª© 2 - Th·ª© 6: 8:30 - 17:30 - Ngh·ªâ tr∆∞a: 12:00 - 1...", "response_time": 0.01, "total_results": 2, "type": "chat_interaction"}
2025-11-25 09:00:11,404 - main - INFO - [main.py:183] - ‚úÖ Chat response - User: user001, Success: True, Time: 0.01s
2025-11-25 09:00:11,404 - api - INFO - [custom_logging.py:68] - API_REQUEST: {"timestamp": "2025-11-25T09:00:11.404921", "user_id": "unknown", "endpoint": "/api/v1/chat", "method": "POST", "status_code": 200, "processing_time": 0.011, "type": "api_request"}
2025-11-25 09:00:18,441 - main - INFO - [main.py:164] - üì® Chat request - User: user003, Message: l∆∞∆°ng th∆∞·ªüng
2025-11-25 09:00:18,448 - chatbot - INFO - [custom_logging.py:51] - CHAT_INTERACTION: {"timestamp": "2025-11-25T09:00:18.448654", "user_id": "user003", "message": "l∆∞∆°ng th∆∞·ªüng", "response_success": true, "response_preview": "ü§ñ **Company Chatbot Response**\n\nD·ª±a tr√™n t√†i li·ªáu c√¥ng ty, t√¥i t√¨m th·∫•y th√¥ng tin sau:\n\n**üìÑ N·ªôi quy c√¥ng ty**\n\n# N·ªòI QUY C√îNG TY ## 1. Gi·ªù l√†m vi·ªác - Th·ª© 2 - Th·ª© 6: 8:30 - 17:30 - Ngh·ªâ tr∆∞a: 12:00 - 1...", "response_time": 0.007, "total_results": 3, "type": "chat_interaction"}
2025-11-25 09:00:18,448 - main - INFO - [main.py:183] - ‚úÖ Chat response - User: user003, Success: True, Time: 0.01s
2025-11-25 09:00:18,448 - api - INFO - [custom_logging.py:68] - API_REQUEST: {"timestamp": "2025-11-25T09:00:18.448883", "user_id": "unknown", "endpoint": "/api/v1/chat", "method": "POST", "status_code": 200, "processing_time": 0.008, "type": "api_request"}
2025-11-25 09:00:24,068 - main - INFO - [main.py:164] - üì® Chat request - User: user001, Message: c√¥ng ty c√≥ ch√≠nh s√°ch du l·ªãch kh√¥ng
2025-11-25 09:00:24,075 - chatbot - INFO - [custom_logging.py:51] - CHAT_INTERACTION: {"timestamp": "2025-11-25T09:00:24.075518", "user_id": "user001", "message": "c√¥ng ty c√≥ ch√≠nh s√°ch du l·ªãch kh√¥ng", "response_success": true, "response_preview": "ü§ñ **Company Chatbot Response**\n\nD·ª±a tr√™n t√†i li·ªáu c√¥ng ty, t√¥i t√¨m th·∫•y th√¥ng tin sau:\n\n**üìÑ N·ªôi quy c√¥ng ty**\n\n# N·ªòI QUY C√îNG TY ## 1. Gi·ªù l√†m vi·ªác - Th·ª© 2 - Th·ª© 6: 8:30 - 17:30 - Ngh·ªâ tr∆∞a: 12:00 - 1...", "response_time": 0.007, "total_results": 2, "type": "chat_interaction"}
2025-11-25 09:00:24,075 - main - INFO - [main.py:183] - ‚úÖ Chat response - User: user001, Success: True, Time: 0.01s
2025-11-25 09:00:24,075 - api - INFO - [custom_logging.py:68] - API_REQUEST: {"timestamp": "2025-11-25T09:00:24.075754", "user_id": "unknown", "endpoint": "/api/v1/chat", "method": "POST", "status_code": 200, "processing_time": 0.007, "type": "api_request"}
2025-11-25 09:00:32,638 - api - INFO - [custom_logging.py:68] - API_REQUEST: {"timestamp": "2025-11-25T09:00:32.638904", "user_id": "unknown", "endpoint": "/api/v1/health", "method": "GET", "status_code": 200, "processing_time": 0.007, "type": "api_request"}
2025-11-25 09:00:38,184 - api - INFO - [custom_logging.py:68] - API_REQUEST: {"timestamp": "2025-11-25T09:00:38.184625", "user_id": "unknown", "endpoint": "/", "method": "GET", "status_code": 200, "processing_time": 0.0, "type": "api_request"}
2025-11-25 09:03:46,187 - main - INFO - [main.py:164] - üì® Chat request - User: user001, Message: ch√≠nh s√°ch ngh·ªâ ph√©p nƒÉm
2025-11-25 09:03:46,198 - chatbot - INFO - [custom_logging.py:51] - CHAT_INTERACTION: {"timestamp": "2025-11-25T09:03:46.198197", "user_id": "user001", "message": "ch√≠nh s√°ch ngh·ªâ ph√©p nƒÉm", "response_success": true, "response_preview": "ü§ñ **Company Chatbot Response**\n\nD·ª±a tr√™n t√†i li·ªáu c√¥ng ty, t√¥i t√¨m th·∫•y th√¥ng tin sau:\n\n**üìÑ N·ªôi quy c√¥ng ty**\n\n# N·ªòI QUY C√îNG TY ## 1. Gi·ªù l√†m vi·ªác - Th·ª© 2 - Th·ª© 6: 8:30 - 17:30 - Ngh·ªâ tr∆∞a: 12:00 - 1...", "response_time": 0.01, "total_results": 2, "type": "chat_interaction"}
2025-11-25 09:03:46,198 - main - INFO - [main.py:183] - ‚úÖ Chat response - User: user001, Success: True, Time: 0.01s
2025-11-25 09:03:46,198 - api - INFO - [custom_logging.py:68] - API_REQUEST: {"timestamp": "2025-11-25T09:03:46.198478", "user_id": "unknown", "endpoint": "/api/v1/chat", "method": "POST", "status_code": 200, "processing_time": 0.011, "type": "api_request"}
2025-11-25 09:03:51,609 - main - INFO - [main.py:164] - üì® Chat request - User: user003, Message: l∆∞∆°ng v√† th∆∞·ªüng
2025-11-25 09:03:51,616 - chatbot - INFO - [custom_logging.py:51] - CHAT_INTERACTION: {"timestamp": "2025-11-25T09:03:51.616300", "user_id": "user003", "message": "l∆∞∆°ng v√† th∆∞·ªüng", "response_success": true, "response_preview": "ü§ñ **Company Chatbot Response**\n\nD·ª±a tr√™n t√†i li·ªáu c√¥ng ty, t√¥i t√¨m th·∫•y th√¥ng tin sau:\n\n**üìÑ N·ªôi quy c√¥ng ty**\n\n# N·ªòI QUY C√îNG TY ## 1. Gi·ªù l√†m vi·ªác - Th·ª© 2 - Th·ª© 6: 8:30 - 17:30 - Ngh·ªâ tr∆∞a: 12:00 - 1...", "response_time": 0.006, "total_results": 3, "type": "chat_interaction"}
2025-11-25 09:03:51,616 - main - INFO - [main.py:183] - ‚úÖ Chat response - User: user003, Success: True, Time: 0.01s
2025-11-25 09:03:51,616 - api - INFO - [custom_logging.py:68] - API_REQUEST: {"timestamp": "2025-11-25T09:03:51.616509", "user_id": "unknown", "endpoint": "/api/v1/chat", "method": "POST", "status_code": 200, "processing_time": 0.007, "type": "api_request"}
2025-11-25 09:03:56,540 - main - INFO - [main.py:164] - üì® Chat request - User: user001, Message: c√¥ng ty c√≥ xe ƒë∆∞a ƒë√≥n kh√¥ng
2025-11-25 09:03:56,546 - chatbot - INFO - [custom_logging.py:51] - CHAT_INTERACTION: {"timestamp": "2025-11-25T09:03:56.546683", "user_id": "user001", "message": "c√¥ng ty c√≥ xe ƒë∆∞a ƒë√≥n kh√¥ng", "response_success": true, "response_preview": "ü§ñ **Company Chatbot Response**\n\nD·ª±a tr√™n t√†i li·ªáu c√¥ng ty, t√¥i t√¨m th·∫•y th√¥ng tin sau:\n\n**üìÑ Ch√≠nh s√°ch ngh·ªâ ph√©p**\n\n# CH√çNH S√ÅCH NGH·ªà PH√âP ## 1. Ph√©p nƒÉm - Nh√¢n vi√™n ch√≠nh th·ª©c: 12 ng√†y ph√©p/nƒÉm - Nh√¢...", "response_time": 0.006, "total_results": 2, "type": "chat_interaction"}
2025-11-25 09:03:56,546 - main - INFO - [main.py:183] - ‚úÖ Chat response - User: user001, Success: True, Time: 0.01s
2025-11-25 09:03:56,546 - api - INFO - [custom_logging.py:68] - API_REQUEST: {"timestamp": "2025-11-25T09:03:56.546893", "user_id": "unknown", "endpoint": "/api/v1/chat", "method": "POST", "status_code": 200, "processing_time": 0.007, "type": "api_request"}
